(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(24),c=r.n(s),i=(r(56),r(11)),o=Object(a.createContext)(),l=r(113),j=r(114),d=r(109),u=r(116),b=r(111),m=r(112),h=r(115),O=r(22),p=r(4),x=r.n(p),g=r(12),f=r(34),v=r(46),w=r.n(v).a.create({baseURL:""});w.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return e.message}));var S=w,y=r(2),k=function(){var e=Object(f.a)(),t=e.register,r=e.handleSubmit,n=e.formState.errors,s=Object(a.useContext)(o),c=s.setAuth,l=s.setEmail,j=s.setUserId,d=Object(a.useState)(""),u=Object(i.a)(d,2),b=(u[0],u[1]),m=function(){var e=Object(g.a)(x.a.mark((function e(t){var r,a,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.email,n=t.password,e.prev=1,e.next=4,S.post("/register",{name:r,email:a,password:n});case 4:s=e.sent,localStorage.setItem("email",s.data.email),localStorage.setItem("userId",s.data.id),localStorage.setItem("token",s.data.token),b(""),c(s.data.token),j(s.data.id),l(s.data.email),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.status),b("Something went wrong");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{onSubmit:r(m),children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"email",children:"Full Name"}),Object(y.jsx)("input",Object(O.a)(Object(O.a)({},t("name",{required:!0})),{},{name:"name",type:"name",placeholder:"Full Name"})),n.name&&"required"===n.name.type&&Object(y.jsx)("span",{children:"This is required"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(y.jsx)("input",Object(O.a)(Object(O.a)({},t("email",{required:!0})),{},{name:"email",type:"email",placeholder:"Email address"})),n.email&&"required"===n.email.type&&Object(y.jsx)("span",{children:"This is required"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"password",children:"Password"}),Object(y.jsx)("input",{name:"password",type:"password",placeholder:"password"})]}),Object(y.jsx)("button",{type:"submit",children:"Register"})]})},I=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(k,{})})},F=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function q(){var e=F();return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(u.a,{position:"static",children:Object(y.jsxs)(b.a,{children:[Object(y.jsx)(m.a,{variant:"h6",className:e.title,children:"Power"}),Object(y.jsx)(h.a,{color:"inherit",href:"/register",children:"register"})]})})})}function E(){return Object(y.jsxs)(n.a.Fragment,{children:[Object(y.jsx)(l.a,{}),Object(y.jsx)(q,{}),Object(y.jsx)(j.a,{maxWidth:"sm",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Be powerful"}),Object(y.jsx)("p",{children:"Power is a simple way to organize your projects. It will help you to manage your tasks easily and reminds you of them \u2013 wherever you are. You can share tasks and lists with others, making it a great tool for teams as well."})]})})]})}var C=r(23),P=r(6),A=function(){return Object(y.jsx)("div",{children:"Welcome to Dasboard"})},B=function(){return Object(y.jsx)(C.a,{children:Object(y.jsx)(P.d,{children:Object(y.jsx)(P.b,{exact:!0,path:"/",component:A})})})},T=function(){var e=Object(f.a)(),t=e.register,r=e.handleSubmit,n=e.formState.errors,s=Object(a.useState)(""),c=Object(i.a)(s,2),l=(c[0],c[1]),j=Object(a.useContext)(o),d=j.setAuth,u=j.setEmail,b=j.setUserId,m=function(){var e=Object(g.a)(x.a.mark((function e(t){var r,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.prev=1,e.next=4,S.post("/login",{email:r,password:a});case 4:n=e.sent,localStorage.setItem("email",n.data.email),localStorage.setItem("userId",n.data.id),localStorage.setItem("token",n.data.token),l(""),d(n.data.token),b(n.data.id),u(n.data.email),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.status),l("Something went wrong");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{onSubmit:r(m),children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(y.jsx)("input",Object(O.a)(Object(O.a)({},t("email",{required:!0})),{},{name:"email",type:"email",placeholder:"Email address"})),n.email&&"required"===n.email.type&&Object(y.jsx)("span",{children:"This is required"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"password",children:"Password"}),Object(y.jsx)("input",{name:"password",type:"password",placeholder:"password"})]}),Object(y.jsx)("button",{type:"submit",children:"Login"})]})},L=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(T,{})})},N=function(){return Object(y.jsx)(C.a,{children:Object(y.jsxs)(P.d,{children:[Object(y.jsx)(P.b,{exact:!0,path:"/",component:E}),Object(y.jsx)(P.b,{path:"/login",component:L}),Object(y.jsx)(P.b,{path:"/register",component:I}),Object(y.jsx)(P.b,{path:"/*",render:function(){return Object(y.jsx)(P.a,{to:"/"})}})]})})},U=function(){var e=Object(a.useContext)(o).auth;return Object(y.jsx)(y.Fragment,{children:e?Object(y.jsx)(B,{}):Object(y.jsx)(N,{})})},R=function(){var e=Object(a.useState)(localStorage.getItem("token")||""),t=Object(i.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(null),c=Object(i.a)(s,2),l=c[0],j=c[1],d=Object(a.useState)(null),u=Object(i.a)(d,2),b={auth:r,setAuth:n,userId:l,setUserId:j,email:u[0],setEmail:u[1]};return Object(y.jsx)(o.Provider,{value:b,children:Object(y.jsx)(U,{})})},z=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,118)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))};c.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(R,{})}),document.getElementById("root")),z()}},[[86,1,2]]]);
//# sourceMappingURL=main.2be50fde.chunk.js.map